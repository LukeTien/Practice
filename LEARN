import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileWriter;
import java.io.InputStream;
import java.io.InputStreamReader;

import java.io.Reader;
import java.net.Authenticator;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLConnection;

import java.util.ArrayList;
import java.util.Iterator;





public class LEARN {
	String answer;
	static ArrayList even =new ArrayList();
	static ArrayList odd =new ArrayList();
	
	static BufferedReader br;

	public static void main(String[] args)  {
		// TODO Auto-generated method stub
		try {
			
			URL url = new URL("http://freshman.tw/cross/106/015262");
			HttpURLConnection con= (HttpURLConnection)url.openConnection();
			con.setDoInput(true);
			//con.setDoOutput(false);
			con.setRequestProperty("User-Agent", "Mozilla/5.0 (Windows NT 6.1; Win64; x64)");
			//con.setRequestProperty("RANGE","bytes=207139");
			//con.connect();
			
			InputStreamReader a=new InputStreamReader(con.getInputStream(),"utf-8");
			br = new BufferedReader(a);
			String s;
			while(( s = br.readLine())!=null)
			{
				if((s.indexOf("</script></td>"))!=-1)
				{
					
					parase(s);
					//System.out.println(s);
					
				}
			}

			br.close();
			
//			while(even.iterator().hasNext())
//			{
//				System.out.println(even.iterator().next());
//			}
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
//		System.out.println(even.size());
//		Iterator iter=even.iterator();
//		while(iter.hasNext())
//		{
//				System.out.println(iter.next());
//		}
	}
	public static void parase(String s){
		int Numberstart = 0,Numberend=0,schstart=0,schend=0;
		String answer,temp;
		
		
		int count = 0,endi=0,i=0,spanstart=0,spanend=0;
		while((count+Numberend) <= s.length())
		{
			spanstart=s.indexOf("<td rowspan=");
			spanend=s.indexOf("\"><span");
			endi = Integer.valueOf(s.substring(spanstart+13,spanend));
			
			
			Numberstart = s.indexOf("<span class=\"number\"><a id=\"",Numberend+1);
			Numberend = s.indexOf("</a>",Numberstart+1);

			if(Numberstart!=-1)
			{
				answer=s.substring(Numberstart+38,Numberend);
				if(even.contains(answer)==false){
					even.add(answer);
					System.out.println(answer);
					
					

					while(i<=endi){
						Numberstart = s.indexOf("<a href=\"",Numberend+1);
						Numberend = s.indexOf("</a>",Numberstart+1);
						temp=s.substring(Numberstart+3,Numberend);
						System.out.println(temp);
						i++;
					}
					i=0;
					
					
				}
				if(even.size()>=243)
				{
					break;
				}
			}

			//System.out.println(count +"   "+s.trim().length());
			count++;
		}

	}
	
}
